import{l as w,u as T,m as P,n as W,p as Y,q as F,s as $,v as q,r as u,o as m,c as y,w as a,a as l,e as b,t as N,j as S,b as x}from"./index.9139cca4.js";var E;const p=typeof window!="undefined",G=e=>typeof e=="string",j=()=>{};p&&((E=window==null?void 0:window.navigator)==null?void 0:E.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function C(e){return typeof e=="function"?e():T(e)}function O(e){return P()?(W(e),!0):!1}function H(e,o=!0){Y()?F(e):o?e():$(e)}function R(e,o,n={}){const{immediate:d=!0}=n,i=w(!1);let t=null;function s(){t&&(clearTimeout(t),t=null)}function r(){i.value=!1,s()}function c(..._){s(),i.value=!0,t=setTimeout(()=>{i.value=!1,t=null,e(..._)},C(o))}return d&&(i.value=!0,p&&c()),O(r),{isPending:i,start:c,stop:r}}function J(e){var o;const n=C(e);return(o=n==null?void 0:n.$el)!=null?o:n}const K=p?window:void 0;p&&window.document;const z=p?window.navigator:void 0;p&&window.location;function Q(...e){let o,n,d,i;if(G(e[0])?([n,d,i]=e,o=K):[o,n,d,i]=e,!o)return j;let t=j;const s=q(()=>J(o),c=>{t(),c&&(c.addEventListener(n,d,i),t=()=>{c.removeEventListener(n,d,i),t=j})},{immediate:!0,flush:"post"}),r=()=>{s(),t()};return O(r),r}function X(e,o=!1){const n=w(),d=()=>n.value=Boolean(e());return d(),H(d,o),n}function Z(e={}){const{navigator:o=z,read:n=!1,source:d,copiedDuring:i=1500}=e,t=["copy","cut"],s=X(()=>o&&"clipboard"in o),r=w(""),c=w(!1),_=R(()=>c.value=!1,i);function v(){o.clipboard.readText().then(f=>{r.value=f})}if(s.value&&n)for(const f of t)Q(f,v);async function h(f=C(d)){s.value&&f!=null&&(await o.clipboard.writeText(f),r.value=f,c.value=!0,_.start())}return{isSupported:s,text:r,copied:c,copy:h}}const k=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},V="__vueuse_ssr_handlers__";k[V]=k[V]||{};k[V];var M;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(M||(M={}));const ee=x(" \u8F6C\u6210YAML\u683C\u5F0F "),te={class:"pt-5 text-center"},oe={class:"red--text text--lighten-1"},ne=x(" YAML "),se={class:"text-body-1"},ae={key:0},le={key:1},ie=x("\u5173\u95ED "),re={data:()=>({code:"123",dialog:!1,jsonStr:"",jsonView:[],errorMessages:""}),created(){},methods:{update:function(){this.errorMessages="";try{this.jsonView=JSON.parse(this.jsonStr)}catch(e){this.errorMessages=e.message}},toYaml(){let e={code:this.jsonView};this.$http.post("/api/json/toyaml",e).then(o=>{this.code=o.data.data,this.dialog=!0}).catch(o=>{console.log("error",o)})},close(){this.dialog=!1}}},de=Object.assign(re,{__name:"jsonview",setup(e){const{copy:o,copied:n,text:d,isSupported:i}=Z({copiedDuring:3e3});return(t,s)=>{const r=u("v-btn"),c=u("v-row"),_=u("v-textarea"),v=u("v-col"),h=u("json-viewer"),f=u("v-card-title"),L=u("v-card-text"),B=u("v-spacer"),I=u("v-card-actions"),U=u("v-card"),A=u("v-dialog"),D=u("v-container");return m(),y(D,null,{default:a(()=>[l(c,{justify:"end",class:"mt-1 mb-3"},{default:a(()=>[l(r,{elevation:"2",color:"#ff8170",onClick:t.toYaml},{default:a(()=>[ee]),_:1},8,["onClick"])]),_:1}),l(c,{justify:"center"},{default:a(()=>[l(v,{cols:"6"},{default:a(()=>[l(_,{modelValue:t.jsonStr,"onUpdate:modelValue":s[0]||(s[0]=g=>t.jsonStr=g),clearable:"",rows:"24",onInput:t.update},null,8,["modelValue","onInput"])]),_:1}),t.errorMessages!=""?(m(),y(v,{key:0,cols:"6"},{default:a(()=>[b("div",te,[b("strong",oe,N(t.errorMessages),1)])]),_:1})):(m(),y(v,{key:1,cols:"6"},{default:a(()=>[l(h,{value:t.jsonView,expanded:"","show-double-quotes":"","expand-depth":5,copyable:""},null,8,["value"])]),_:1}))]),_:1}),l(A,{transition:"dialog-bottom-transition",modelValue:t.dialog,"onUpdate:modelValue":s[2]||(s[2]=g=>t.dialog=g),persistent:""},{default:a(()=>[l(U,{"max-width":"1200"},{default:a(()=>[l(f,{class:"text-h5"},{default:a(()=>[ne]),_:1}),l(L,null,{default:a(()=>[b("pre",se,N(t.code),1)]),_:1}),l(I,{class:"justify-end"},{default:a(()=>[l(B),l(r,{text:"",color:"secondary",onClick:s[1]||(s[1]=g=>T(o)(t.code))},{default:a(()=>[T(n)?(m(),S("span",le,"\u590D\u5236\u6210\u529F")):(m(),S("span",ae,"\u590D\u5236"))]),_:1}),l(r,{text:"",onClick:t.close},{default:a(()=>[ie]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{de as default};
