import{_ as $,r as o,o as r,c as u,w as e,a as t,b as i,t as B,d as f,g as v,e as N,h as z,F as U}from"./index.40f0269a.js";const F={data:()=>({finish:!1,snackbar:!1,text:"",timeout:2e3,loading:!1,disabled:!1,info:{},url:""}),created(){},methods:{analysis(){this.loading=!0,this.disabled=!0;const a=/http[s]?:\/\/([\w./-]+)\??[\w=&:.\-+%]*[/]*/.exec(this.url);if(a==null){this.text="\u590D\u5236\u7684\u6587\u6848\u6216\u8005\u94FE\u63A5\u9519\u8BEF",this.snackbar=!this.snackbar;return}let n={url:a[0]};this.$http.post("/api/analysis/media",n).then(d=>{console.log(d.data),d.data.code==1&&(this.info=d.data.data),this.loading=!1,this.finish=!0,this.disabled=!1}).catch(d=>{console.log("error",d),this.loading=!1,this.disabled=!1})}}},D=i(" \u5173\u95ED "),E=i("\u6296\u97F3"),L=i("\u6296\u97F3"),S=i("\u6296\u97F3"),T=i("\u6296\u97F3"),q={key:0,width:"270",height:"480",controls:"",autoplay:""},A=["src"],G=i(" \u60A8\u7684\u6D4F\u89C8\u5668\u4E0D\u652F\u6301 video \u6807\u7B7E\u3002 "),H=i(" \u5F00\u59CB\u89E3\u6790 ");function I(a,n,d,J,K,g){const m=o("v-btn"),y=o("v-snackbar"),b=o("v-progress-linear"),p=o("v-img"),k=o("v-textarea"),c=o("v-col"),s=o("v-row"),_=o("v-chip"),h=o("v-divider"),w=o("v-progress-circular"),V=o("v-card-text"),j=o("v-card-actions"),C=o("v-card"),x=o("v-container");return r(),u(x,null,{default:e(()=>[t(y,{modelValue:a.snackbar,"onUpdate:modelValue":n[1]||(n[1]=l=>a.snackbar=l),timeout:a.timeout,vertical:"",location:"center"},{actions:e(()=>[t(m,{color:"blue",variant:"text",onClick:n[0]||(n[0]=l=>a.snackbar=!1)},{default:e(()=>[D]),_:1})]),default:e(()=>[i(B(a.text)+" ",1)]),_:1},8,["modelValue","timeout"]),t(s,{justify:"center"},{default:e(()=>[t(c,{md:"12",sm:"12",lg:"10"},{default:e(()=>[t(C,{loading:a.loading,"max-width":"1400"},{default:e(()=>[a.loading?(r(),u(b,{key:0,class:"position-absolute",style:{"z-index":"1"},color:"pink lighten-3",height:"8",indeterminate:"",rounded:"",striped:""})):f("",!0),t(p,{class:"align-end text-white",height:"200",src:"https://oss.wowyou.cc/misc/pdf-header.jpg",cover:""}),t(V,null,{default:e(()=>[t(s,{justify:"center"},{default:e(()=>[t(c,{md:"8",sm:"12",lg:"8"},{default:e(()=>[t(k,{modelValue:a.url,"onUpdate:modelValue":n[2]||(n[2]=l=>a.url=l),clearable:"",label:"\u8BF7\u7C98\u8D34\u5206\u4EAB\u7684\u94FE\u63A5\u6216\u8005\u89C6\u9891url\u5730\u5740","auto-grow":"",rows:"2"},null,8,["modelValue"])]),_:1})]),_:1}),t(s,{justify:"center"},{default:e(()=>[t(c,{md:"8",sm:"12",lg:"8"},{default:e(()=>[t(_,{color:"primary",class:"ma-2"},{default:e(()=>[E]),_:1}),t(_,{color:"primary",class:"ma-2"},{default:e(()=>[L]),_:1}),t(_,{color:"primary",class:"ma-2"},{default:e(()=>[S]),_:1}),t(_,{color:"primary",class:"ma-2"},{default:e(()=>[T]),_:1})]),_:1})]),_:1}),a.finish?(r(),u(s,{key:0,justify:"center"},{default:e(()=>[t(h,{class:"ma-1 pa-1"}),t(c,{cols:"10"},{default:e(()=>[t(s,{justify:"center",align:"center"},{default:e(()=>[a.info.type=="video"?(r(),v("video",q,[N("source",{src:a.info.videoUrl,type:"video/mp4"},null,8,A),G])):f("",!0),a.info.type=="images"?(r(),u(s,{key:1},{default:e(()=>[(r(!0),v(U,null,z(a.info.pics,l=>(r(),u(c,{key:l,class:"d-flex child-flex",cols:"4"},{default:e(()=>[t(p,{src:l,"lazy-src":l,"aspect-ratio":"1",cover:"",class:"bg-grey-lighten-2"},{placeholder:e(()=>[t(s,{class:"fill-height ma-0",align:"center",justify:"center"},{default:e(()=>[t(w,{indeterminate:"",color:"grey-lighten-5"})]),_:1})]),_:2},1032,["src","lazy-src"])]),_:2},1024))),128))]),_:1})):f("",!0)]),_:1})]),_:1}),t(h,{class:"ma-2"})]),_:1})):f("",!0)]),_:1}),t(j,null,{default:e(()=>[t(s,null,{default:e(()=>[t(c,{cols:"12"},{default:e(()=>[t(s,{justify:"center"},{default:e(()=>[t(m,{"append-icon":"mdi-cloud-upload",elevation:"2",color:"#eb5d4c",onClick:g.analysis,disabled:a.disabled},{default:e(()=>[H]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})}var O=$(F,[["render",I]]);export{O as default};
