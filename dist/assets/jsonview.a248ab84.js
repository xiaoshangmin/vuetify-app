import{l as C,m as D,u as T,n as W,p as Y,q as F,s as R,v as $,x as q,y as G,r as p,o as w,c as I,w as i,a as u,b as E,d as H,e as k,t as P,j as A}from"./index.fcff41f4.js";var M;const h=typeof window!="undefined",J=e=>typeof e=="string",K=()=>{};h&&((M=window==null?void 0:window.navigator)==null?void 0:M.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function j(e){return typeof e=="function"?e():T(e)}function z(e){return e}function U(e){return W()?(Y(e),!0):!1}function X(e,t=!0){F()?R(e):t?e():$(e)}function Z(e,t,n={}){const{immediate:r=!0}=n,c=C(!1);let o=null;function l(){o&&(clearTimeout(o),o=null)}function d(){c.value=!1,l()}function f(..._){l(),c.value=!0,o=setTimeout(()=>{c.value=!1,o=null,e(..._)},j(t))}return r&&(c.value=!0,h&&f()),U(d),{isPending:D(c),start:f,stop:d}}function ee(e){var t;const n=j(e);return(t=n==null?void 0:n.$el)!=null?t:n}const te=h?window:void 0;h&&window.document;const ne=h?window.navigator:void 0;h&&window.location;function oe(...e){let t,n,r,c;if(J(e[0])||Array.isArray(e[0])?([n,r,c]=e,t=te):[t,n,r,c]=e,!t)return K;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const o=[],l=()=>{o.forEach(s=>s()),o.length=0},d=(s,m,y,g)=>(s.addEventListener(m,y,g),()=>s.removeEventListener(m,y,g)),f=G(()=>[ee(t),j(c)],([s,m])=>{l(),s&&o.push(...n.flatMap(y=>r.map(g=>d(s,y,g,m))))},{immediate:!0,flush:"post"}),_=()=>{f(),l()};return U(_),_}function ae(e,t=!1){const n=C(),r=()=>n.value=Boolean(e());return r(),X(r,t),n}function se(e={}){const{navigator:t=ne,read:n=!1,source:r,copiedDuring:c=1500,legacy:o=!1}=e,l=["copy","cut"],d=ae(()=>t&&"clipboard"in t),f=q(()=>d.value||o),_=C(""),s=C(!1),m=Z(()=>s.value=!1,c);function y(){d.value?t.clipboard.readText().then(a=>{_.value=a}):_.value=x()}if(f.value&&n)for(const a of l)oe(a,y);async function g(a=j(r)){f.value&&a!=null&&(d.value?await t.clipboard.writeText(a):S(a),_.value=a,s.value=!0,m.start())}function S(a){const v=document.createElement("textarea");v.value=a!=null?a:"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function x(){var a,v,O;return(O=(v=(a=document==null?void 0:document.getSelection)==null?void 0:a.call(document))==null?void 0:v.toString())!=null?O:""}return{isSupported:f,text:_,copied:s,copy:g}}const V=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},N="__vueuse_ssr_handlers__";V[N]=V[N]||{};V[N];var Q;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Q||(Q={}));var re=Object.defineProperty,B=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,L=(e,t,n)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ue=(e,t)=>{for(var n in t||(t={}))le.call(t,n)&&L(e,n,t[n]);if(B)for(var n of B(t))ie.call(t,n)&&L(e,n,t[n]);return e};const ce={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ue({linear:z},ce);const de={class:"pt-5 text-center"},pe={class:"red--text text--lighten-1"},fe={class:"text-body-1"},_e={key:0},ve={key:1},me={data:()=>({code:"123",dialog:!1,jsonStr:"",jsonView:[],errorMessages:""}),created(){},methods:{update:function(){this.errorMessages="";try{this.jsonView=JSON.parse(this.jsonStr)}catch(e){this.errorMessages=e.message}},toYaml(){let e={code:this.jsonView};this.$http.post("/api/json/toyaml",e).then(t=>{this.code=t.data.data,this.dialog=!0}).catch(t=>{console.log("error",t)})},close(){this.dialog=!1}}},ge=Object.assign(me,{__name:"jsonview",setup(e){const{copy:t,copied:n,text:r,isSupported:c}=se({copiedDuring:3e3});return(o,l)=>{const d=p("v-btn"),f=p("v-row"),_=p("v-textarea"),s=p("v-col"),m=p("json-viewer"),y=p("v-card-title"),g=p("v-card-text"),S=p("v-spacer"),x=p("v-card-actions"),a=p("v-card"),v=p("v-dialog"),O=p("v-container");return w(),I(O,null,{default:i(()=>[o.jsonStr?(w(),I(f,{key:0,justify:"end",class:"mt-1 mb-3"},{default:i(()=>[u(d,{elevation:"2",color:"#ff8170",onClick:o.toYaml},{default:i(()=>[E(" \u8F6C\u6210YAML\u683C\u5F0F ")]),_:1},8,["onClick"])]),_:1})):H("",!0),u(f,{justify:"center"},{default:i(()=>[u(s,{cols:"6"},{default:i(()=>[u(_,{modelValue:o.jsonStr,"onUpdate:modelValue":l[0]||(l[0]=b=>o.jsonStr=b),clearable:"",rows:"30",onInput:o.update},null,8,["modelValue","onInput"])]),_:1}),o.errorMessages!=""?(w(),I(s,{key:0,cols:"6"},{default:i(()=>[k("div",de,[k("strong",pe,P(o.errorMessages),1)])]),_:1})):(w(),I(s,{key:1,cols:"6"},{default:i(()=>[u(m,{value:o.jsonView,expanded:"","show-double-quotes":"","expand-depth":5,copyable:""},null,8,["value"])]),_:1}))]),_:1}),u(v,{transition:"dialog-bottom-transition",modelValue:o.dialog,"onUpdate:modelValue":l[2]||(l[2]=b=>o.dialog=b),persistent:""},{default:i(()=>[u(a,{"max-width":"1200"},{default:i(()=>[u(y,{class:"text-h5"},{default:i(()=>[E(" YAML ")]),_:1}),u(g,null,{default:i(()=>[k("pre",fe,P(o.code),1)]),_:1}),u(x,{class:"justify-end"},{default:i(()=>[u(S),u(d,{text:"",color:"secondary",onClick:l[1]||(l[1]=b=>T(t)(o.code))},{default:i(()=>[T(n)?(w(),A("span",ve,"\u590D\u5236\u6210\u529F")):(w(),A("span",_e,"\u590D\u5236"))]),_:1}),u(d,{text:"",onClick:o.close},{default:i(()=>[E("\u5173\u95ED ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ge as default};
