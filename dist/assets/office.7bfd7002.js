import{_ as B,f as N,r as n,o as c,c as f,w as o,a as t,b as r,t as u,d as g,e as O}from"./index.19c1f948.js";const U={data:()=>({finish:!1,snackbar:!1,text:"",convertToType:"word",timeout:2e3,loading:!1,disabled:!1,files:[],info:{},rules:[e=>!!e||"Required.",e=>(console.log(e),!e||!e.length||e[0].size<10486e3||"\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710 MB!")]}),methods:{postOffice(){if(this.files.length==0){this.text="\u8BF7\u9009\u62E9\u9700\u8981\u8F6C\u6362\u7684\u6587\u4EF6",this.snackbar=!this.snackbar;return}let e=this.files[0];if(e.size>10486e3){this.text="\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC710 MB!",this.snackbar=!this.snackbar;return}this.loading=!0,this.disabled=!0,this.$socket.getMsg(a=>{typeof a=="object"&&a.result&&(this.loading=!1,this.disabled=!1,this.finish=!0,a.filesize=N(a.filesize),this.info=a)});let s=new FormData;s.append("file",e),s.append("type",this.convertToType);let p={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{let _=(a.loaded/a.total*100|0)+"%";console.log(_)}};this.$http.post("/api/office/upload",s,p).then(a=>{console.log(a.data),a.data.code==1?this.text="\u6587\u4EF6\u4E0A\u4F20\u6210\u529F\uFF0C\u6B63\u5728\u8F6C\u6362\u8BF7\u7A0D\u7B49\u7247\u523B":this.text=a.data.message,this.snackbar=!this.snackbar,this.loading=!1,this.disabled=!1}).catch(a=>{console.log("error",a),this.text=a.message,this.snackbar=!this.snackbar,this.loading=!1,this.disabled=!1})}}},x=r(" \u5173\u95ED "),F=["href"],M=r(" \u4E0A\u4F20\u5E76\u8F6C\u6362 ");function P(e,s,p,a,_,b){const m=n("v-btn"),k=n("v-snackbar"),y=n("v-progress-linear"),w=n("v-img"),V=n("v-file-input"),i=n("v-col"),l=n("v-row"),h=n("v-radio"),T=n("v-radio-group"),v=n("v-divider"),j=n("v-icon"),z=n("v-card-text"),C=n("v-card-actions"),D=n("v-card"),$=n("v-container");return c(),f($,null,{default:o(()=>[t(k,{modelValue:e.snackbar,"onUpdate:modelValue":s[1]||(s[1]=d=>e.snackbar=d),timeout:e.timeout,vertical:"",location:"center"},{actions:o(()=>[t(m,{color:"blue",variant:"text",onClick:s[0]||(s[0]=d=>e.snackbar=!1)},{default:o(()=>[x]),_:1})]),default:o(()=>[r(u(e.text)+" ",1)]),_:1},8,["modelValue","timeout"]),t(l,{justify:"center"},{default:o(()=>[t(i,{md:"12",sm:"12",lg:"10"},{default:o(()=>[t(D,{loading:e.loading,"max-width":"1400"},{default:o(()=>[e.loading?(c(),f(y,{key:0,class:"position-absolute",style:{"z-index":"1"},color:"pink lighten-3",height:"8",indeterminate:"",rounded:"",striped:""})):g("",!0),t(w,{class:"align-end text-white",height:"200",src:"https://oss.wowyou.cc/misc/pdf-header.jpg",cover:""}),t(z,null,{default:o(()=>[t(l,{justify:"center"},{default:o(()=>[t(i,{md:"8",sm:"12",lg:"8"},{default:o(()=>[t(V,{"show-size":"",counter:"",accept:".pdf,.doc,.docx,application/vnd.openxmlformats-officedocument.wordprocessingml.document",label:"\u9009\u62E9\u9700\u8981\u8F6C\u6362\u7684\u6587\u4EF6",rules:e.rules,"prepend-icon":"","append-inner-icon":"mdi-file",modelValue:e.files,"onUpdate:modelValue":s[2]||(s[2]=d=>e.files=d),disabled:e.disabled},null,8,["rules","modelValue","disabled"])]),_:1})]),_:1}),t(l,{justify:"center"},{default:o(()=>[t(i,{md:"8",sm:"12",lg:"8"},{default:o(()=>[t(T,{modelValue:e.convertToType,"onUpdate:modelValue":s[3]||(s[3]=d=>e.convertToType=d),inline:""},{default:o(()=>[t(h,{label:"PDF\u8F6CWORD",value:"word",color:"indigo"}),t(h,{label:"WORD\u8F6CPDF",value:"pdf",color:"indigo"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e.finish?(c(),f(l,{key:0,justify:"center"},{default:o(()=>[t(v),t(i,{cols:"10"},{default:o(()=>[t(l,{justify:"start",align:"center"},{default:o(()=>[t(i,{cols:"8"},{default:o(()=>[r(u(e.info.filename),1)]),_:1}),t(i,{cols:"2"},{default:o(()=>[r(u(e.info.filesize),1)]),_:1}),t(i,{cols:"2"},{default:o(()=>[O("a",{href:e.info.download,target:"_blank"},[t(j,{icon:"mdi-cloud-download"})],8,F)]),_:1})]),_:1})]),_:1}),t(v)]),_:1})):g("",!0)]),_:1}),t(C,null,{default:o(()=>[t(l,null,{default:o(()=>[t(i,{cols:"12"},{default:o(()=>[t(l,{justify:"center"},{default:o(()=>[t(m,{"append-icon":"mdi-cloud-upload",elevation:"2",color:"#2fa59a",onClick:b.postOffice,disabled:e.disabled},{default:o(()=>[M]),_:1},8,["onClick","disabled"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})}var W=B(U,[["render",P]]);export{W as default};
